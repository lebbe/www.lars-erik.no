---
import '../styles/global.css'
import {
  Globe,
  Guitar,
  Music,
  Github,
  FileText,
  Code2,
  Blocks,
  Terminal,
} from '@lucide/astro'
import Section from '../components/section/Section.astro'
import Toppings from '../components/Toppings.astro'
import MusicPlayer from '../components/MusicPlayer.astro'
import CMSToolbar from '../components/CMSToolbar.astro'

// Read articles.md as raw text
const articlesRaw = await Astro.glob('../index/sections/articles.md')
const articlesContent = await articlesRaw[0].compiledContent()

// Split by separator and take first 3 entries
const allArticles = articlesContent.split('<hr>')
const featuredArticles = allArticles.slice(0, 3).join('<hr>')

// Music tracks
const musicTracks = [
  {
    id: 'track1',
    title: 'Disconcerting Presence',
    audioUrl: '/audio/disconcerting_presence.mp3',
    imageUrl: '/imgs/disconcerting_presence.webp',
    description:
      'En ambient komposisjon som utforsker det urovekkende i det ukjente.',
  },
  {
    id: 'track2',
    title: 'Understrøm (feat. Sad Alien)',
    audioUrl: '/audio/understrom_lebchen_sad_alien.mp3',
    imageUrl: '/imgs/understrom.webp',
    description: "Hovedtemaet til filmen 'Understrøm', med Sad Alien på gitar.",
  },
  {
    id: 'track3',
    title: 'It Came from the MMC',
    audioUrl: '/audio/mmc.mp3',
    imageUrl: '/imgs/mmc.webp',
    description:
      'En mørk og energisk låt inspirert av retro dataspill og sci-fi/horror filmer.',
  },
]
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta
      name="description"
      content="Lars-Erik Bruce - Senior Software Engineer, filosof, elektronisk musiker og digital kunstner. Ekspert i semantisk kode, tilgjengelighet og pragmatisk webutvikling. Skaper av Synthwave-musikk og 'Small Web' entusiast."
    />
    <title>Lars-Erik Bruce</title>
  </head>
  <body>
    <CMSToolbar />
    <div class="editor-canvas">
      <Toppings />

      <main>
        <Section
          label="Written_Content"
          columns={1}
          class="articles-area"
          heading="Artikler"
        >
          <Fragment set:html={featuredArticles} />
          <a href="/articles">Se alle artikler →</a>
        </Section>

        <Section
          label="Technical_Philosophy"
          columns={2}
          heading="Teknisk Skriving og Filosofi"
        >
          <p>
            Som utvikler med bakgrunn i både informatikk og filosofi, skriver
            jeg om semantisk kode, tilgjengelighet, og pragmatisk ingeniørkunst.
            Jeg argumenterer for "kjedelig teknologi" som faktisk fungerer,
            heller enn å jage de nyeste trendene.
          </p>
          <div class="portal-link">
            <FileText class="portal-icon" size={20} />
            <a href="https://dev.to/lebbe" target="_blank">DEV.to/@lebbe</a>
            <span class="portal-desc"
              >// 18+ artikler om React, semantisk HTML, og API-design</span
            >
          </div>
          <div class="portal-link">
            <Code2 class="portal-icon" size={20} />
            <a href="https://github.com/lebbe" target="_blank">GitHub/@lebbe</a>
            <span class="portal-desc">// 45+ open source repositorier</span>
          </div>
        </Section>

        <Section
          label="Audio_Engine"
          columns={2}
          heading="Musikk og Lydlandskap"
        >
          <MusicPlayer tracks={musicTracks} />
        </Section>

        <Section
          label="Digital_Portals"
          columns={2}
          heading="Mine Andre Hjørner"
        >
          <div class="portal-link">
            <Terminal class="portal-icon" size={20} />
            <a href="https://lebbe.neocities.org/" target="_blank"
              >Lebbes Terminal</a
            >
            <span class="portal-desc"
              >// Min Neocities-side - "Small Web" manifest og ASCII-spill</span
            >
          </div>
          <div class="portal-link">
            <Guitar class="portal-icon" size={20} />
            <a href="https://lebchen.rocks/" target="_blank">Lebchen Rocks</a>
            <span class="portal-desc"
              >// Min artist-side - Cinematic Synthwave og Darkwave</span
            >
          </div>
          <div class="portal-link">
            <Music class="portal-icon" size={20} />
            <a href="https://www.youtube.com/@Lars-ErikBruce" target="_blank"
              >@Lars-Erik Bruce</a
            >
            <span class="portal-desc">// Mine komposisjoner på YouTube</span>
          </div>
          <div class="portal-link">
            <Blocks class="portal-icon" size={20} />
            <a href="https://www.instagram.com/lebocomics/" target="_blank"
              >@lebocomics</a
            >
            <span class="portal-desc"
              >// AFOL - Lego-fotografering og narrative comic strips</span
            >
          </div>
          <div class="portal-link">
            <Globe class="portal-icon" size={20} />
            <a href="https://spacehey.com/lebchen" target="_blank"
              >SpaceHey/@lebchen</a
            >
            <span class="portal-desc">// Retro sosial nettverking</span>
          </div>
          <div class="portal-link">
            <Github class="portal-icon" size={20} />
            <a href="https://github.com/lebbe/" target="_blank">@lebbe</a>
            <span class="portal-desc">// Min GitHub - Open Source kode</span>
          </div>
        </Section>

        <Section
          label="Professional_Journey"
          columns={2}
          heading="Profesjonell Erfaring"
        >
          <p>
            <strong>Senior Software Engineer @ Redpill Linpro</strong> (2022–nå)
            <br />
            Frontend-utvikling og teknisk ledelse. Fokus på Open Source-løsninger
            og moderne webarkitektur.
          </p>
          <p>
            <strong>Frontend Techlead @ Tripletex AS</strong> (2012–2022)
            <br />
            9+ år med å bygge og skalere enterprise ERP-systemer. Ledet overgangen
            fra Java-backend til moderne frontend-arkitektur.
          </p>
          <p>
            <strong>Master i Informatikk</strong> - Universitetet i Oslo (2012)
            <br />
            Spesialisering i semantisk informasjonsutvinning fra medisinske journaler
            (NLP/AI). Kombinert med studier i filosofi.
          </p>
        </Section>

        <Section
          label="Gemini_Deep_Research"
          columns={2}
          heading="Gemini Deep Research"
        >
          <p>
            Jeg bruker Geminis Deep Research-funksjonalitet for å lage
            omfattende rapporter om emner som interesserer meg. Her deler jeg
            disse funnene med verden.
          </p>
          <a href="/ai/research" class="source-link">Se rapportene →</a>
        </Section>

        <Section label="Captain_Scapegoat" columns={1}>
          <a
            href="/ai/captain_scapegoat"
            style="display: block; cursor: pointer;"
          >
            <img
              src="/media/previews/captain_scapegoat_preview.webp"
              alt="Captain Scapegoat"
              style="width: 100%; height: auto; border-radius: 4px; transition: opacity 0.3s;"
            />
          </a>
        </Section>

        <!--
        <Section label="Nerd_Metrics" columns={1}>
          <p>Kaffeinnhold: 88%</p>
          <p>Uleste e-poster: 4 201</p>
          <p>Linjer kode skrevet i dag: 12</p>
        </Section>

        <Section label="Random_Seed" columns={1}>
          <blockquote>
            "Hvis det fungerer på første forsøk, har du gjort noe feil."
          </blockquote>
        </Section>

        <Section label="System_Status" columns={1}>
          <div class="status-indicator">
            <div class="dot pulse"></div>
            <span>Søker etter motivasjon...</span>
          </div>
        </Section> -->
      </main>
    </div>
  </body>
</html>
